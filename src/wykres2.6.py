import matplotlib.pyplot as plt
import numpy as np


fig = plt.figure(figsize=[11.75, 8.25])
ax = fig.add_subplot(1, 1, 1)
plt.axis([0, 5.2, 0, 40])

ax.spines['right'].set_color('none')
ax.spines['top'].set_color('none')

ax.plot(1, 0, ">k", transform=ax.get_yaxis_transform(), clip_on=False)
ax.plot(0, 1, "^k", transform=ax.get_xaxis_transform(), clip_on=False)


plt.axvline(x=1, ymin=0, ymax=0.65, color='black', linewidth=0.5, linestyle = 'dashed')
plt.axvline(x=2, ymin=0, ymax=0.45, color='black', linewidth=0.5, linestyle = 'dashed')
plt.axvline(x=3, ymin=0, ymax=0.58, color='black', linewidth=0.5, linestyle = 'dashed')
plt.axvline(x=4, ymin=0, ymax=0.58, color='black', linewidth=0.5, linestyle = 'dashed')

plt.xticks([])
plt.yticks([])

ax.set_xticks([1, 2, 3, 4,5])
ax.set_xticklabels(['$t_1$', '$t_2$', '$t_3$', '$t_4$', '$t_5$'], fontsize = 16)

a = [0,
0.0454545455,
0.0909090909,
0.1363636364,
0.1818181818,
0.2272727273,
0.2727272727,
0.3181818182,
0.3636363636,
0.4090909091,
0.4545454545,
0.5,
0.5454545455,
0.5909090909,
0.6363636364,
0.6818181818,
0.7272727273,
0.7727272727,
0.8181818182,
0.8636363636,
0.9090909091,
0.9545454545,
1,
1.0454545455,
1.0909090909,
1.1363636364,
1.1818181818,
1.2272727273,
1.2727272727,
1.3181818182,
1.3636363636,
1.4090909091,
1.4545454545,
1.5,
1.5454545455,
1.5909090909,
1.6363636364,
1.6818181818,
1.7272727273,
1.7727272727,
1.8181818182,
1.8636363636,
1.9090909091,
1.9545454545,
2,
2,
2.0454545455,
2.0909090909,
2.1363636364,
2.1818181818,
2.2272727273,
2.2727272727,
2.3181818182,
2.3636363636,
2.4090909091,
2.4545454545,
2.5,
2.5454545455,
2.5909090909,
2.6363636364,
2.6818181818,
2.7272727273,
2.7727272727,
2.8181818182,
2.8636363636,
2.9090909091,
2.9545454545,
3,
3,
3.0454545455,
3.0909090909,
3.1363636364,
3.1818181818,
3.2272727273,
3.25,
3.2727272727,
3.3181818182,
3.3636363636,
3.4090909091,
3.4545454545,
3.5,
3.5454545455,
3.5909090909,
3.6363636364,
3.6818181818,
3.7272727273,
3.7727272727,
3.8181818182,
3.8636363636,
3.9090909091,
3.9545454545,
4,
4,
4.0454545455,
4.0909090909,
4.1363636364,
4.1818181818,
4.2272727273,
4.2727272727,
4.3181818182,
4.3636363636,
4.4090909091,
4.4545454545,
4.5]

y = [27.0301786156,
27.1457744331,
27.2550972851,
27.3518742059,
27.42983223,
27.4826983919,
27.504199726,
27.4880632666,
27.4280160483,
27.3177851055,
27.1510974726,
26.921680184,
26.6259735504,
26.2712709869,
25.8675791851,
25.4249048361,
24.9532546315,
24.4626352627,
23.9630534209,
23.4645157977,
22.9770290844,
22.5105999724,
22.0752351531,
21.6783349053,
21.3168738581,
20.9852202277,
20.6777422307,
20.3888080833,
20.1127860021,
19.8440442033,
19.5769509035,
19.305874319,
19.0251826663,
18.7292441617,
18.4124270216,
18.0690994625,
17.6936297008,
17.2803859528,
16.823736435,
16.3180493638,
15.7576929556,
15.1370354267,
14.4504449936,
13.6922898728,
12.8569382805,
12.8569382805,
11.9437145986,
10.9717678697,
9.9652033021,
8.9481261037,
7.9446414828,
6.9788546473,
6.0748708054,
5.2567951652,
4.5487329348,
3.9747893222,
3.5590695356,
3.3256787831,
3.2987222727,
3.5023052126,
3.9605328108,
4.6975102755,
5.7373428146,
7.1041356365,
8.821993949,
10.9150229604,
13.4073278786,
16.3230139119,
16.3230139119,
19.6403523748,
23.1542790077,
26.6138956578,
29.7683041718,
32.3666063969,
33.3788119782,
34.1649246427,
35.0808518624,
35.1934516525,
34.5888080724,
33.3530051815,
31.5721270389,
29.3322577041,
26.7194812364,
23.819881695,
20.7195431393,
17.5045496287,
14.2609852224,
11.0749339798,
8.0324799602,
5.2197072229,
2.7226998272,
0,
0,
-1.0014229764,
-2.1868119123,
-2.9729825626,
-3.4042925144,
-3.5250993552,
-3.3797606722,
-3.0126340527,
-2.468077084,
-1.7904473534,
-1.0241024482,
-0.2133999558,
]

x = np.arange(0,92,1)
plt.plot(a, y, color='black', linewidth=2, linestyle = 'dashed')

for i in range(4):
    xtemp = np.arange(0+i, 2+i, 1)
    ytemp = 0*xtemp+sum(y[0+i*23:23+i*23])/23
    plt.plot(xtemp, ytemp, color='black', linewidth=3)
    plt.text(i+1-0.3, sum(y[0+i*23:23+i*23])/23+1,'$P_ {} $'.format(i+1),  fontsize = 14)
    
xtemp = np.arange(4, 6, 1)
ytemp = 0*xtemp+0
plt.plot(xtemp, ytemp, color='black', linewidth=4)
plt.text(4+1-0.3, 0+1,'$P_{5}$',  fontsize = 12)
plt.text(0.1, 39,'P',  fontsize = 20)
plt.text(5, 1,'t',  fontsize = 20)
#plt.title('Rys. 2.6. Przykładowy przebieg obciążenia zmiennego okresowego (linia przerywana) \n i jego zastąpienie przedziałami stałymi (linie ciągłe).',  
#          y=-0.13, fontsize = 12)
plt.savefig("wykres2.6.svg", format="svg")
plt.savefig("wykres2.6.png", format="png")